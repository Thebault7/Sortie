{% extends 'layout.html.twig ' %}

{% block title %}
    mes sorties
{% endblock %}

{% block body %}
    <section class="contact_section layout_padding mt-0 pt-5">
        <div class="container">

            <div class="row mb-2">
                {% set i = 0 %}
                {%  for label, messages in app.flashes %}
                    {% for message in messages %}
                        <div class="alert alert-{{ label }} mx-auto" role="alert">
                            {{ message }}
                        </div>
                    {%  endfor %}
                {%  endfor %}
            </div>


            <div class="heading_container">
                <h2>Liste de mes sorties</h2>
            </div>


            <div class="row mt-4 mb-4">
                <h6><b>Sortie dont je suis l'organisateur/trice</b></h6>
            </div>

            {% if sortiesOrganisateur|length is not same as(0) %}
                <div class="row d.flex justify-content-center">
                    {% for sortie in sortiesOrganisateur %}
                        <div class="col-6 col-sm-6 col-md-4 ml-1 mr-2 mt-2">
                            <div class="card detail-box h-100" style="width: 15rem;">
                                <div class="mt-2">
                                    <h5 class="card-title">{{ sortie.nom}}</h5>
                                    <p>Date : {{ sortie.dateHeureDebut|date("d/m/Y H:i") }} </p>
                                    <p>Ville : {{ sortie.lieu.ville.nom }}</p>
                                    <a href="{{ path('sortie_afficher', {'id': sortie.id }) }}" class="">Afficher</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="row d.flex justify-content-center">
                    <p class="">Aucune sortie dont vous êtes organisateur/trice.</p>
                </div>
            {% endif %}

            <div class="row mt-4 mb-4">
                <h6><b>Sortie auxquelles je suis inscrit/e</b></h6>
            </div>
            {% if sortiesParticipant|length is not same as(0) %}
                <div class="row d.flex justify-content-center">
                    {% for sortieP in sortiesParticipant %}
                        <div class="col-6 col-sm-6 col-md-4 ml-1 mr-2 mt-2">
                            <div class="card detail-box h-100" style="width: 15rem;">
                                <div class="mt-2">
                                    <h5 class="card-title">{{ sortieP.nom}}</h5>
                                    <p>Date : {{ sortieP.dateHeureDebut|date("d/m/Y H:i") }} </p>
                                    <p>Ville : {{ sortieP.lieu.ville.nom }}</p>
                                    <a href="{{ path('sortie_afficher', {'id': sortieP.id }) }}" class="">Afficher</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="row d.flex justify-content-center">
                    <p class="">Aucune sortie à laquelle vous êtes inscrit/e.</p>
                </div>
            {% endif %}

        </div>
    </section>


{% endblock %}

