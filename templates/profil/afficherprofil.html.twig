{% extends 'layout.html.twig' %}

{% block body %}

    <section class="contact_section layout_padding mt-0 pt-5">
        <div class="container">

            <div class="row mt-1 mb-2">
                {% for label, messages in app.flashes %}
                    {% for message in messages %}
                        <div class="alert alert-{{ label }} mx-auto" role="alert">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>

            <!-- titre de la page-->
            <div class="heading_container mb-0 pb-0">
                <h2>
                    {{ participant.prenom }} {{ participant.nom }}
                </h2>
            </div>

            {% if participant.photo is not null %}
                <div class="row mt-2 mb-3">
                    <img class="img-thumbnail mx-auto" src="{{ asset('assets/img/'~participant.photo) }}" alt=""
                         style="border-radius:50%; width: 200px">
                </div>
            {% endif %}


            {% if participant.pseudo is not null %}
                <div class="row mt-2">
                    <div class="col-3 offset-4">
                        <b>Pseudo</b>
                    </div>
                    <div class="col-5">
                        {{ participant.pseudo }}
                    </div>
                </div>
            {% endif %}
            <div class="row mt-2">
                <div class="col-3 offset-4">
                    <b>Téléphone</b>
                </div>
                <div class="col-5">
                    {{ participant.telephone }}
                </div>
            </div>

            <div class="row mt-2">
                <div class="col-3 offset-4">
                    <b>E-mail</b>
                </div>
                <div class="col-5">
                    {{ participant.mail }}
                </div>
            </div>

            <div class="row mt-2">
                <div class="col-3 offset-4">
                    <b>Lieu d'études</b>
                </div>
                <div class="col-5">
                    {{ participant.site.nom }}
                </div>
            </div>

            <div class="d-flex justify-content-center ">
                <!-- boutons -->
                {% if app.user.id is same as(participant.id) %}
                    <div class="ml-1 mr-1">
                        <a class="bouton1" href="{{ path('modifprofil') }}">Modifier</a>
                    </div>
                {% endif %}
                <div class="ml-1 mr-1">
                    <a class="bouton1" href="{{ app.request.headers.get('referer') }}">Retour</a>
                </div>
                {% if app.user.administrateur is same as(true) %}
                    {% if participant.actif is same as(true) %}
                        <div class="ml-1 mr-1">
                            <a href="{{ path('delete_user', {'id': participant.id, 'change_password': false}) }}"
                               class="bouton2">Inactiver</a>
                        </div>
                        <div class="ml-1 mr-1">
                            <a href="{{ path('delete_user', {'id': participant.id, 'a_supprimer': true}) }}"
                               class="bouton3">Supprimer</a>
                        </div>
                    {% else %}
                        <div class="ml-1 mr-1">
                            <a href="{{ path('activate_user', {'id': participant.id}) }}" class="bouton2">Réactiver</a>
                        </div>
                        <div class="ml-1 mr-1">
                            <a href="{{ path('delete_user', {'id': participant.id, 'a_supprimer': true}) }}"
                               class="bouton3">Supprimer</a>
                        </div>
                    {% endif %}
                {% endif %}
            </div>
        </div>

        {% if app.user.administrateur is same as(true) %}
            {% if not (participant.actif is same as(true)) %}
                <h3>
                    Le compte de cet utilisateur est <span>désactivé</span>.
                </h3>
            {% endif %}
        {% endif %}

    </section>

{% endblock %}
{% block title %}profil{% endblock %}